/** Typography

Depends on:
- Fundamentals: typography, color, sizes, effects
- Theme: typography, color, sizes, effects
*/


:where(address, blockquote, dl, ol, p, pre, table, ul) {
    margin-block-start: 0;
    color: currentColor;
    font-style: normal;
    font-weight: var(--brick-font-weight);
    max-inline-size: var(--brick-line-length);
    max-width: 100%;
    margin-block-end: var(--brick-typography-block-spacing);

    [data-layout="content"] > & {
        margin-block-end: 0;
    }
}

:where(article, address, blockquote, dl, figure, form, ol, p, pre, table, ul) ~ :is(h1, h2, h3, h4, h5, h6) {
    margin-block-start: var(--brick-typography-block-spacing);
}

i, em {
    font-style: italic;
}

b, strong {
    font-weight: var(--brick-font-weight-bold);
}

/* !! name this and put it somewhere... */
/* .label {
    font-weight: var(--brick-font-weight-heavy);
    /letter-spacing: -0.025em;
    font-size: .9em;
    text-transform: uppercase;
} */


:where(ul li) {
    list-style: var(--brick-list-style, square);
}

:where(ol, ul):not([data-layout]) li {
    margin-block-end: var(--brick-size-xxs);
}

:where(dl, ol, ul) :where(dl, ol, ul) {
    margin: 0;
    margin-block-start: var(--brick-size-xxs);
}


hr {
    height: 0;
    margin-block: var(--brick-hr-spacing, calc(var(--brick-typography-block-spacing) * 2));
    margin-inline: auto;
    align-self: center;
    border: 0;
    border-style: solid;
    border-color: var(--brick-hr-color, var(--brick-color-accent-subtle));
    border-block-start-width: var(--brick-hr-thickness, var(--brick-border-width));
    color: inherit;
    width: var(--brick-hr-width, var(--brick-line-length-very-short));

    & + * {
        margin-block-start: 0;
    }
}


blockquote {
    display: block;
    margin-block: var(--brick-blockquote-spacing-block, var(--brick-typography-block-spacing));
    margin-inline: 0;
    padding-block: var(--brick-blockquote-spacing-block, var(--brick-typography-block-spacing));
    padding-inline: var(--brick-blockquote-spacing-inline, calc(var(--brick-typography-block-spacing) * 2));
    border-style: solid;
    border-width: 0;
    border-color: var(--brick-blockquote-border-color, var(--brick-color-accent-subtle));
    border-inline-start-width: var(--brick-blockquote-border-width, var(--brick-border-width-heavy));
    border-inline-end: none;

    & footer {
        margin-block-start: var(--brick-blockquote-spacing-block, var(--brick-typography-block-spacing));
        color: var(--brick-blockquote-footer-color, var(--brick-color-surface-2));
    }
}

/* HEADINGS */
:where(h1, h2, h3, h4, h5, h6) {
    --_heading-weight: var(--brick-font-weight-headings, var(--brick-font-weight-bold));
    --_heading-height: var(--brick-line-height-headings, var(--brick-line-height-tight));
    --_heading-before: var(--brick-margin-before-headings, var(--brick-size-rel-md));
    margin-block-end: var(--brick-margin-after-headings, var(--brick-size-rel-xs));
    font-family: var(--brick-font-heading, var(--brick-font-main));
    max-inline-size: var(--brick-line-length-headings, var(--brick-line-length-short));
    max-width: 100%;

    :is(header, [data-layout]) > & {
        margin-block-end: 0;
    }

    &, :where(p, a) {
        overflow-wrap: break-word;
    }
}

:where(h1) {
    font-size: var(--brick-font-size-h1, var(--brick-size-fluid-xxl));
    line-height: var(--brick-line-height-h1, var(--_heading-height));
    font-weight: var(--brick-font-height-h1, var(--_heading-weight));
    margin-block-start: var(--brick-margin-before-h1, var(--_heading-before));
    color: var(--brick-font-color-h1, var(--brick-color-headings-big));
}

:where(h2) {
    font-size: var(--brick-font-size-h2, var(--brick-size-fluid-xl));
    line-height: var(--brick-line-height-h2, var(--_heading-height));
    font-weight: var(--brick-font-height-h2, var(--_heading-weight));
    margin-block-start: var(--brick-margin-before-h2, var(--_heading-before));
    color: var(--brick-font-color-h2, var(--brick-color-headings-big));
}

:where(h3) {
    font-size: var(--brick-font-size-h3, var(--brick-size-fluid-lg));
    line-height: var(--brick-line-height-h3, var(--_heading-height));
    font-weight: var(--brick-font-height-h3, var(--_heading-weight));
    margin-block-start: var(--brick-margin-before-h3, var(--_heading-before));
    color: var(--brick-font-color-h3, var(--brick-color-headings-small));
}

:where(h4) {
    font-size: var(--brick-font-size-h4, var(--brick-size-xl));
    line-height: var(--brick-line-height-h4, var(--_heading-height));
    font-weight: var(--brick-font-height-h4, var(--_heading-weight));
    margin-block-start: var(--brick-margin-before-h4, var(--_heading-before));
    color: var(--brick-font-color-h4, var(--brick-color-headings-small));
}

:where(h5) {
    font-size: var(--brick-font-size-h5, var(--brick-size-lg));
    line-height: var(--brick-line-height-h5, var(--_heading-height));
    font-weight: var(--brick-font-height-h5, var(--_heading-weight));
    margin-block-start: var(--brick-margin-before-h5, var(--_heading-before));
    color: var(--brick-font-color-h5, var(--brick-color-headings-small));
}

:where(h6) {
    font-size: var(--brick-font-size-h6, var(--brick-size-md-lg));
    line-height: var(--brick-line-height-h6, var(--_heading-height));
    font-weight: var(--brick-font-height-h6, var(--_heading-weight));
    margin-block-start: var(--brick-margin-before-h6, var(--_heading-before));
    color: var(--brick-font-color-h6, var(--brick-color-headings-small));
}

hgroup {
    margin-block-start: var(--brick-size-rel-lg);
    margin-block-end: var(--brick-size-rel-md);

    & > :not(:last-child) {
        margin-block-start: 0;
        margin-block-end: var(--brick-size-rel-xxs);
    }

    & > :last-child {
        margin-block-end: 0;
    }

    & > p {
        color: var(--brick-font-color-h5, var(--brick-color-headings-small));
        font-size: var(--brick-font-size-h5, var(--brick-size-lg));
        line-height: var(--brick-line-height-h5, var(--brick-line-height-headings, var(--brick-line-height-tight)));
        max-inline-size: var(--brick-line-length-headings, var(--brick-line-length-short));
    }
}


/* VARIOUS ELEMENTS */

pre,
code,
kbd,
samp {
    font-size: var(--brick-size-rel-md-sm);
    font-family: var(--brick-font-family-monospace);
    font-weight: var(--brick-font-weight);
    color: var(--brick-code-color, var(--brick-color-content-active));
    line-height: initial;
    --_background-color: var(--brick-code-background-color, var(--brick-color-shaded-bold)); 
    background-color: var(--_background-color);
    outline: var(--brick-size-rel-xxs) solid var(--_background-color);
    padding-inline: var(--brick-size-xxxs);
    margin-inline: var(--brick-size-xxs);
    border-radius: var(--brick-border-rounding-barely);
}

code,
kbd,
samp {
    display: inline-block;
}

pre {
    display: block;
    margin-block-end: var(--brick-typography-block-spacing);
    padding: var(--brick-typography-block-spacing);
    overflow: auto;
}

pre :is(code, samp) {
    font-size: inherit;
    font-family: inherit;
    display: block;
    background: none;
    line-height: var(--brick-line-height);
    outline: none;
}

kbd {
    font-weight: var(--brick-font-weight-bold);
    --_background-color: var(--brick-code-kbd-background-color, var(--brick-color-content-active));
    color: var(--brick-code-kbd-color, var(--brick-color-background-active));
    vertical-align: baseline;
    letter-spacing: var(--brick-letter-spacing-loose);
}

sub,
sup {
    position: relative;
    font-size: var(--brick-size-rel-sm);
    line-height: 0;
    vertical-align: baseline;
}

sub {
    bottom: -.25em;
}

sup {
    top: -.5em;
}

small {
    font-size: var(--brick-size-rel-md-sm);
}

mark {
    --_mark-bg: var(--brick-mark-background-color, var(--brick-color-warning-surface));
    background-color: var(--_mark-bg);
    color: var(--brick-mark-color, var(--brick-color-content-active));
    border-radius: var(--brick-border-rounding-barely);
    vertical-align: baseline;

    outline: var(--brick-size-rel-xxs) solid var(--_mark-bg);
    padding-inline: var(--brick-size-xxxs);
    margin-inline: var(--brick-size-xxs);
}

abbr[title] {
    border-bottom: 1px dotted;
    text-decoration: none;
    cursor: help;
}

ins {
    color: var(--brick-ins-color, var(--brick-color-success-content));
    text-decoration: none;
}

del {
    color: var(--brick-del-color, var(--brick-color-danger-content));
}
